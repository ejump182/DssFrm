import { Layout } from "@/components/docs/Layout";
import { Fence } from "@/components/shared/Fence";
import Link from "next/link";

export const meta = {
  title: "Product-Market Fit Survey",
};

The Product-Market Fit survey (or Sean Ellis Test) is a method to measure Product-Market Fit.

## Purpose

By assessing how disappointed users would be if they could no longer use your service you get a good idea of how well your current product fits your target market.

Measuring it allows you to optimize it.

## Approach

- Higher conversion: In-app surveys **convert significantly better** than email surveys

- **Pre-segment** user base: Only ask users who experienced the value of your product

- **Specific** dashboard: Understand your data right, separate signal from noise by design

- Targeted approach: **Personally address** users with their name (if you have it)

- Measure continuously: Feel the pulse of your user base **consistently**

- No UI clutter: **Natively embed** the survey for best possible UX

- **Never** ask twice: Assure to not survey users twice

## Preview

## Installation

To add the Product-Market Fit Survey to your app, you need to perform three steps:

1. Install
2. Configure
3. Embed

### 1. Install

There are two ways to install the Product-Market Fit Survey: npm and JavaScript embed.

**NPM Install**

```tsx
npm install formbricks/pmf
```

**JavaScript Embed**

You can also embed the Product-Market Fit Survey in your HTML `<head>` tag:

```tsx
<script src="https://cdn.jsdelivr.net/npm/@formbricks/pmf@0.0.9" defer></script>
```

### 2. Setting up the config

You can change the content behaviour of the Product-Market Fit Survey with the config object.

**Basic config**

Add your Formbricks form ID and the formbricks server address to the config object.

```html
<script>
  window.formbricksPmf = {
    ...window.formbricksPmf,
    config: {
      formbricksUrl: "https://app.formbricks.com",
      formId: "cldipnvz80002le0ha2a3zhgl",
    },
  };
</script>
```

**Sending user metadata with submission**

The Product-Market Fit Survey is built for in-app experiences. We assume that you already have user properties stored in a session object. It makes sense to send them to Formbricks to enrich the user profile in the user view. Later on, you will be able to create cohorts to survey based on user properties.

Here is an example of how to take metadata from the next.js Session Object and pass it to Formbricks:

```javascript
window.formbricksPmf = {
  ...window.formbricksPmf,
  config: {
    // ...
    customer: {
      email: "", // fill dynamically
      name: "", // fill dynamically
    },
  };
},
```

Note: the `email` field must be present in the customer object

**Styling**

You can style the Product-Market Fit Survey to match your UI. We recommend to at least replace the brand color with your main color.

```javascript
window.formbricksPmf = {
  ...window.formbricksPmf,
  config: {
    // ...
    style: {
      brandColor: "#00c4b8",
    },
  };
},
```

Here are all variables you can set with the current defaults:

```javascript
style: {
  brandColor: "#00c4b8",
  borderRadius: "0.4rem",
  containerBGColor: "#f8fafc",
  containerBGColor: "#f8fafc",
  textColor: "#0f172a",
  buttonTextColor: "#ffffff",
  textareaBorderColor: "#e2e8f0",
},
```

### Example config

Here is an example of a full config object:

```javascript
window.formbricksPmf = {
  ...window.formbricksPmf,
  config: {
    formbricksUrl: "https://app.formbricks.com",
    formId: "cldetkpre0000nr0hku986hio",
    containerId: "formbricks-pmf-survey", // always needed
    customer: {
      id: "", // fill dynamically
      name: "", // fill dynamically
      email: "", // fill dynamically
    },
    style: {
      brandColor: "#00c4b8",
      borderRadius: "0.4rem",
      containerBGColor: "#f8fafc",
      containerBGColor: "#f8fafc",
      textColor: "#0f172a",
      buttonTextColor: "#ffffff",
      textareaBorderColor: "#e2e8f0",
    },
  },
};
```

### 3. Embed

To add the Product-Market Fit Survey to your UI, you can use different wrappers. Please follow the instructions linked below:

1. <Link href="/docs/wrappers/pop-over">In-app Pop-over</Link>
2. <Link href="/docs/wrappers/modal">Modal</Link>
3. <Link href="/docs/wrappers/inline">Inline</Link>

export default ({ children }) => <Layout meta={meta}>{children}</Layout>;
